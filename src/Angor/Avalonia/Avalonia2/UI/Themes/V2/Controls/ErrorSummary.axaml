<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Avalonia2.UI.Shared.Controls"
                    xmlns:i="https://github.com/projektanker/icons.avalonia"
                    xmlns:generic="clr-namespace:System.Collections.Generic;assembly=System.Collections">

    <Design.PreviewWith>
        <StackPanel Spacing="10">
            <ThemeVariantScope RequestedThemeVariant="Light">
                <controls:ErrorSummary>
                    <controls:ErrorSummary.Errors>
                        <generic:List x:TypeArguments="x:String">
                            <x:String>Error 1</x:String>
                            <x:String>Error 2</x:String>
                            <x:String>Error 3</x:String>
                        </generic:List>
                    </controls:ErrorSummary.Errors>
                </controls:ErrorSummary>
            </ThemeVariantScope>
            <ThemeVariantScope RequestedThemeVariant="Dark">
                <controls:ErrorSummary>
                    <controls:ErrorSummary.Errors>
                        <generic:List x:TypeArguments="x:String">
                            <x:String>Error 1</x:String>
                            <x:String>Error 2</x:String>
                            <x:String>Error 3</x:String>
                        </generic:List>
                    </controls:ErrorSummary.Errors>
                </controls:ErrorSummary>
            </ThemeVariantScope>
        </StackPanel>
    </Design.PreviewWith>

    <ControlTheme TargetType="controls:ErrorSummary" x:Key="{x:Type controls:ErrorSummary}">
        <Setter Property="HorizontalAlignment" Value="Right" />
        <Setter Property="Template">
            <ControlTemplate>
                <controls:EdgePanel IsVisible="{Binding !!$parent[controls:ErrorSummary].Errors.Count}"
                           Spacing="16"
                           CornerRadius="10" BorderThickness="1"
                           Padding="16" BorderBrush="{DynamicResource ErrorHard}"
                           Background="{DynamicResource ErrorSoft}"
                           Foreground="{DynamicResource TextMuted}">
                    <controls:EdgePanel.StartContent>
                        <i:Icon Value="fa-solid fa-circle-exclamation" FontSize="15" Foreground="{DynamicResource ErrorForeground}" />
                    </controls:EdgePanel.StartContent>
                    <ItemsControl ItemsSource="{TemplateBinding Errors}" />
                </controls:EdgePanel>
            </ControlTemplate>
        </Setter>
    </ControlTheme>

</ResourceDictionary>
